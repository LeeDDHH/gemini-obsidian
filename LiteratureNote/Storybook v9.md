2025年6月にリリースされたUIコンポーネント開発ツール「Storybook v9」の主要な新機能についての要約です。

今回のアップデートの大きな柱は「テスト機能の強化」です。v8までは独立していたインタラクションテスト、アクセシビリティテスト、ビジュアルリグレッションテスト（VRT）が、新たにVitestとPlaywrightとの統合により一元化されました。これにより、StorybookのUIサイドバーから全てのテストを一括で実行できるようになり、開発ワークフローが大幅に改善されます。

特にインタラクションテストは、JSDomの制約を受けない実ブラウザ環境で実行可能となり、より信頼性の高いテストが実現します。さらに、`storybook-addon-test-codegen`アドオンを使えば、コーディングなしでユーザー操作に基づいたテストを生成することも可能です。アクセシビリティテストは`axe-core`をベースにしており、UI上で違反箇所を即座に確認できます。ビジュアルテストはChromaticとの統合が強化され、UIの差分確認から承認までをStorybook上で完結できるようになりました。

次に、「UI駆動の開発体験」が大きく向上しました。Storyファイルの新規作成や、既存Storyの引数（props）をUI上のControlsタブで編集し、それを元に新しいStoryとして保存するといった操作が、コードを直接編集することなく可能になりました。これにより、デザイナーやプロダクトマネージャーといった非エンジニアも、コンポーネントの微調整やバリエーション作成に直接関与しやすくなります。

その他の重要な改善点として、依存関係構造の抜本的な見直しにより、バンドルサイズが48%削減され、パフォーマンスが向上しました。また、React NativeやViteを使用したNext.jsなど、サポートするフレームワークも拡張されています。

筆者は、これらの機能強化、特にテスト機能の統合が開発効率を大きく向上させると評価しています。また、Storybookの課題とされがちな「メンテナンスコストの高さ」についても、近年の生成AIを開発プロセスに組み込むことで、そのデメリットを解消できるのではないかと期待を寄せています。